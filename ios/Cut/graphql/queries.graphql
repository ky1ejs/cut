
fragment MovieFragment on Movie {
  title
  id
  poster_url
  release_date
  mainGenre {
    id
    name
  }
  genres {
    name
    id
  }
  isOnWatchList
}

fragment MutableMovieFragment on Movie @apollo_client_ios_localCacheMutation {
  isOnWatchList
}

query Movies($collection: Collection!) {
  movies(collection: $collection) { ...MovieFragment }
}

query Search($term: String!) {
  search(term: $term) { ...MovieFragment }
}

query WatchList {
  watchList {
    ...MovieFragment
  }
}

query WatchListMutation	@apollo_client_ios_localCacheMutation {
  watchList {
    ...MovieFragment
  }
}

mutation SignUp($deviceName: String!) {
  signUp(deviceName: $deviceName) {
    session_id
  }
}

mutation AddToWatchList($movieId: String!) {
  addToWatchList(movieId: $movieId) {
    id
  }
}

mutation RemoveFromWatchList($movieId: String!) {
  removeFromWatchList(movieId: $movieId) {
    id
  }
}
